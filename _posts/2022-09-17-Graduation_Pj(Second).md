---
layout: post
title: Parking space management
subtitle: Parking space management through image recognition
categories: Graduation_Pj(Second)
tags: YOLOv5 Django 
---

 2학기 졸업 프로젝트를 시작하여 포스트를 남깁니다.

 ---
## 실시간 영상 처리를 통한 주차공간 안내
 
### 프로젝트 배경, 목적 및 필요성
<p align="center">
 <img src = "https://user-images.githubusercontent.com/77920565/191418008-f6aea56e-2273-41ad-9f31-674f7747dbc3.png" width = 380>
 </p>

 그림과 같이 국가 통계 포털에 의하면 2021년에 등록된 자동차 수는 약 2,500만대에 달하고 있다. 국민당 0.5대의 자동차를 보유하고 있다는 것을 보여주며 국민의 자동차 보유율은 나날이 높아지지만, 공공시설의 주차 공간은 확보되지 않아 사람들은 주차로 인한 스트레스를 받고 있다.

 대형 건물, 마트의 주차장의 경우 주차장 층별 주차 가능 공간의 개수를 알려주고 있지만 넓은 주차장의 경우 남은 주차 공간을 찾기 힘들어 자리를 찾기 위해 주차장을 빙빙 돌고 있는 차를 흔히 볼 수 있다. 주차장을 이용하는 사람이 어디 주차가 가능한지 미리 알고 이동한다면 주차장 내에서 차로 인한 혼잡을 줄이고, 이로 인해 주차 시설을 이용하는 사람들의 스트레스를 줄일 수 있다고 생각한다.

### 관련 동향과 차별성
 <p align="center">
 <img src = "https://user-images.githubusercontent.com/77920565/191418512-fabd507f-e50e-4138-a463-31dfa5384bce.png" width = 480>
 </p>
 기존의 대형 마트, 상가 시설의 주차 시설은 주차장의 센서를 이용하여 주차 시설의 주차 가능 차량 수를 파악했다면, 기존과 다르게 카메라를 이용해 차량 객체를 인식한 후 남은 자리를 파악한다.
 기존의 센서를 이용한 방법은 센서를 주차 공간마다 설치해야 해 비용이 많이 들지만, 보안용 cctv를 이용해 주차 공간을 파악한다면 유지보수 비용뿐만 아니라 초기 설치 비용 또한 절약할 수 있다.
 또한 추후 장애인 전용, 여성 전용, 지정 주차 공간 외 전기차 충전 구역 등의 특수 기능을 위한 주차 구역의 파악 또한 가능하다고 생각한다.

### 프로젝트 디자인 내용
  기존 센서를 이용한 주차 공간 파악 방법을 이용하는 것이 아닌 방범용으로 설치해둔 cctv를 이용해 실시간으로 영상으로 객체(차량)을 인식해 주차 가능 여부를 판단한 후 이를 txt 파일 형태로 서버에 전송하고 이를 API에서 출력한다.

  저희 프로젝트 규모로 cctv 접근이 사실상 어렵기 때문에 임의의 카메라를 주차장에 설치하여 실시간으로 변화하는 주차장에 따른 UI의 변화를 보여줄 생각입니다.

### 프로젝트 디자인 방법과 절차
<p align="center">
 <img src = "https://user-images.githubusercontent.com/77920565/192975467-336699b3-7d0c-4415-8a3d-b93fcf16c460.png" width = 250>
 </p>
 주차장의 경우 한 대의 차가 주차하고 나가는 시간을 길게 잡아도 30초 정도라고 생각합니다. 이 때문에 실시간으로 영상에서 객체 즉 차량을 인식하고 이에 따른 데이터를 빠르게 전송해야 하기 때문에 현재 실시간 영상에서 객체 인식이 제일 빠르다고 평가 받고 있는 Pytorch Framework YOLOv5를 사용하여 객체를 인식하기로 하였습니다.
 객체 인식을 기반으로 한 데이터를 저장하여 이를 API에서 출력합니다, 파이썬 기반 Framework인 Django를 이용해 서버를 만들어 API와 통신합니다.
 API에서 사용자 화면에 로드맵 형식으로 주차장 도면을 나타내며 주차 가능 여부, 특수 주차 구역을 나누어 색깔 별로 표시하여 구분합니다

### 목표 UI
<p align="center">
 <img src = "https://user-images.githubusercontent.com/77920565/192975884-8b1f6b7b-208d-4fb2-bea7-b3f16f7b0697.png" width = 250>
 </p>

위 그림과 같이 특정 구역을 포함한 주차장의 로드맵을 만들어 사용자가 길을 찾기 쉽도록 만듭니다.

### 목표 기능
1. 주차 구역, 불가능 구역 나누어 구역별 지도에 표시
2. 자신이 주차한 구역 터치시 색을 달리하여 주차한 곳 표시
3. 여러 구역에 대한 주차 가능 구역 표시
- ex) e-mart 1층, 2층, 3층, ...